<!doctype html>
<html lang="pt-BR" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Uma postagem marcadas com &quot;observabilidade&quot; | u01</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://u01.tec.br/blog/tags/observabilidade"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" name="docusaurus_locale" content="pt-BR"><meta data-rh="true" name="docsearch:language" content="pt-BR"><meta data-rh="true" property="og:title" content="Uma postagem marcadas com &quot;observabilidade&quot; | u01"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://u01.tec.br/blog/tags/observabilidade"><link data-rh="true" rel="alternate" href="https://u01.tec.br/blog/tags/observabilidade" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://u01.tec.br/blog/tags/observabilidade" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="u01 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="u01 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.41fad42b.css">
<script src="/assets/js/runtime~main.56fbacea.js" defer="defer"></script>
<script src="/assets/js/main.cd2f8ff6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Pular para o conteúdo principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conteúdo principal</a></div><div class="announcementBar_mb4j" style="background-color:#1786fb;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">We are now on <a href="https://instagram.com/" target="_blank">Instagram</a> and <a href="#" target="_blank">YouTube</a> with amazing content.</div><button type="button" aria-label="Fechar" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar a barra de navegação" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Open source community" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Open source community" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Universo 01</b></a><a class="navbar__item navbar__link" href="/about">Sobre</a><a class="navbar__item navbar__link" href="/blog/bem-vindos">Blog</a><a class="navbar__item navbar__link" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/universo01/website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-label="Alterar entre os modos claro e escuro (modo modo claro ativado)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/ciclo-de-vida-das-apis">Ciclo de Vida das APIs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/observabilidade-de-apis">Observabilidade de APIs</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/template-example">Título do exemplo</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/bem-vindos">Bem-vindos</a></li></ul></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>Uma postagem marcadas com &quot;observabilidade&quot;</h1><a href="/blog/tags">Ver todas os Marcadores</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/blog/observabilidade-de-apis">Observabilidade de APIs</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-07-20T00:00:00.000Z">20 de julho de 2024</time> · <!-- -->Leitura de 8 minutos</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/it0dan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/it0dan.png" alt="Dan"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/it0dan" target="_blank" rel="noopener noreferrer"><span>Dan</span></a></div><small class="avatar__subtitle">Integration Architect</small></div></div></div></div></header><div class="markdown"><p>Em um mundo de aplicações distribuídas, APIs têm papel chave. Conectando sistemas para alavancar negócios e elevar a experiência do desenvolvedor para outro nível. Dado o cenário atual, temos cada vez mais serviços e consequentemente APIs, e precisamos de governança e segurança para que possamos garantir a qualidade e integridade das soluções que oferecemos. Por isso, fazer com que nossas APIs sejam observáveis é essencial para que elas cumpram seu propósito principal, que é ser utilizada.</p>
<p>Nesse conteúdo aprofundaremos no conceito de observabilidade no contexto de APIs. O que é essencial observarmos e boas práticas utilizadas para que através dos dados de telemetria das APIs consigamos trabalhar de forma preditiva, evitando impacto no relacionamento com seu ecossistema de parceiros e clientes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="definição-moderna-de-apis">Definição moderna de APIs<a class="hash-link" aria-label="Link direto para Definição moderna de APIs" title="Link direto para Definição moderna de APIs" href="/blog/tags/observabilidade#definição-moderna-de-apis">​</a></h2>
<p>API é acrônimo de Application Programming Interface e significa interface programável da aplicação. Permite que diferentes sistemas consigam integrar entre si sem que eles precisem expor suas regras e lógicas de negócio. Isso tudo através de um contrato (swagger) utilizando a Especificação OpenAPI. Dado o cenário atual do mercado, onde cada vez mais empresas vem se tornando empresas de tecnologia, migrando suas estratégias de negócio para o digital e modernizando sua arquitetura para o contexto de eventos e microsserviços, as APIs têm papel fundamental pois elas habilitam a comunicação por todo esse ecossistema distribuído. Com isso, APIs não são apenas ativos técnicos da organização, e sim ativos de negócio, onde a estratégia de APIs deve estar alinhada com a estratégia de negócios para que empresas consigam sobreviver a esse campo de batalha digital.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoramento--observabilidade">Monitoramento &amp; Observabilidade<a class="hash-link" aria-label="Link direto para Monitoramento &amp; Observabilidade" title="Link direto para Monitoramento &amp; Observabilidade" href="/blog/tags/observabilidade#monitoramento--observabilidade">​</a></h2>
<p>É importante definir e diferenciar monitoramento de observabilidade, por vezes ocorre confusão na compreensão desses conceitos que parecem a mesma coisa mas não são.</p>
<p>Monitoramento é a ação de coletar, processar, analisar, agregar e disponibilizar dados sobre os sistemas em tempo real. E com isso nos auxiliar na detecção de um problema de forma ágil.</p>
<p>Observabilidade é definido como um mecanismo focado em coletar dados de telemetria para entender o que causou ou está causando problema na nossa aplicação. Então diferente do monitoramento que auxilia na análise e detecção de um problema, a observabilidade deve ter a capacidade de explicar o porquê daquele comportamento.</p>
<p>Dito isso, podemos entender que esses dois conceitos aplicados em arquitetura moderna e distribuída são simbióticos. Monitorar nossas APIs é essencial para que possamos trazer observabilidade e com isso investigar e resolver problemas da forma mais rápida possível, gerando o mínimo de impacto nos consumidores dessas APIs.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="melt">MELT<a class="hash-link" aria-label="Link direto para MELT" title="Link direto para MELT" href="/blog/tags/observabilidade#melt">​</a></h2>
<p>MELT é um acrônimo para métricas, eventos, logs e traces. São considerados tipos de dados de telemetria essenciais para observabilidade.</p>
<ul>
<li><strong>Métricas</strong> são medidas numéricas coletadas durante o tempo. Como por exemplo o total de requisições ou taxa de erro de um período.</li>
<li><strong>Eventos</strong> são ações que aconteceram ou estão acontecendo em um determinado intervalo de tempo. Por exemplo, quando um pedido é realizado por um cliente, ou o reabastecimento de produtos por um parceiro ou mesmo um ataque DDoS que a API está sofrendo.</li>
<li><strong>Logs</strong> são linhas de texto que sistemas produzem quando determinados blocos de código são executados. No contexto das APIs, quando requisições são realizadas. Dessa forma são salvos dados como quando foi feita a requisição, qual a API, URI, recurso, operação, método e etc.</li>
<li><strong>Traces</strong> são interações entre componentes que aconteceram durante a requisição e a resposta. É o passo-a-passo de todo fluxo de chamada de uma API. Como por exemplo por quais sistemas ela percorreu, quais as manipulações e validações foram realizadas bem como a origem, para onde foi encaminhada e quanto tempo gastou em cada ação.</li>
</ul>
<p>Se tratando de APIs, é primordial trazermos dados de telemetria de métricas, eventos, logs e trace para que possamos ser mais assertivos na detecção dos sintomas e encontrar a causa raiz de algo que pode estar acontecendo e impactando os consumidores.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="golden-signals">Golden Signals<a class="hash-link" aria-label="Link direto para Golden Signals" title="Link direto para Golden Signals" href="/blog/tags/observabilidade#golden-signals">​</a></h2>
<p>Agora que sabemos os tipos de dados de telemetria que devemos observar, precisamos entender quais são os sinais que serão gerados a partir desses dados que vão nos indicar quando o comportamento das nossas APIs está anormal.</p>
<p>O termo &quot;sinais dourados&quot; vem do livro Google SRE e representam quatro sinais essenciais que devem ser monitorados. A recomendação é que se você pode monitorar apenas quatro sinais, que sejam eles.</p>
<ul>
<li><strong>Latência</strong> - Tempo total da realização de uma chamada. Ela pode ser subdividida na latência do serviço A, latência do serviço B, latência de rede, latência do gateway e etc.</li>
<li><strong>Tráfego</strong> - Medida que determina a quantidade de atividades que a aplicação está recebendo. No contexto das APIs geralmente são a quantidade de requisições por segundo (RPS) ou a quantidade de requisições por minuto (RPM).</li>
<li><strong>Erro</strong> - Taxa de requisições que falharam de forma explícita, como erros de servidor ou de cliente representados através do status code. Ou de forma implícita, quando o status code de retorno é de sucesso mas no payload do response consta mensagem de erro.</li>
<li><strong>Saturação</strong> - Medida do quão cheio um serviço está. Podemos medi-la através da porcentagem de utilização de CPU, memória, largura da banda de rede e etc.</li>
</ul>
<p>Com esses sinais dourados devemos ser capazes de identificar a causa raíz de qualquer problema com os nossos serviços. Inclusive um pode ser indicativo ou consequência do outro. Por exemplo, seu serviço tem aumento significativo no tráfego (RPS acima da média), com isso ele começa a saturar e consequentemente aumentar sua latência, ocasionando erros de timeout.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="red-framework">RED framework<a class="hash-link" aria-label="Link direto para RED framework" title="Link direto para RED framework" href="/blog/tags/observabilidade#red-framework">​</a></h2>
<p>RED é um framework derivado dos 4 sinais dourados e nos dias atuais é o mais utilizado se tratando do monitoramento de microsserviços. Criado por Tom Wilkie, esse framework vem em contrapartida a utilização do framework USE, que é amplamente utilizado, mas com forte contexto de infraestrutura. Esse artigo explora toda a problemática do USE e como ele não se encaixa totalmente no monitoramento de serviços distribuídos. RED é baseado em 3 sinais:</p>
<ul>
<li><strong>Rate</strong> - Quantidade de requisições por segundo ou minuto.</li>
<li><strong>Error</strong> - Quantidade de requisições falhas.</li>
<li><strong>Duration</strong> - Tempo de processamento de uma chamada.</li>
</ul>
<p>Totalmente aplicável ao contexto de APIs, esses são geralmente os sinais que mensuramos para monitorar e garantir que nossas APIs estão altamente disponíveis e saudáveis. E com eles podemos destrinchar análises secundárias que nos darão diversos insights de negócio. Como por exemplo a quantidade de requisições por APIs, por aplicações, por IPs e etc. E a mesma lógica pode ser aplicada na quantidade de requisições falhas, onde poderíamos facilmente identificar que os erros estão vindo de uma aplicação que está com token expirado e está recebendo status code 401 entrando em um loop e aumentando nossa taxa de requisições falhas. Ou, analisando o aumento na duração das chamadas podemos correlacionar com a quantidade de requisições e entender que podemos estar sofrendo essa sobrecarga justamente pela quantidade de requisições acima da média em um dado período.</p>
<p>Para monitoramento de APIs, assim como para microsserviços, o framework RED é atualmente o mais utilizado. Com ele, conseguimos de forma simplificada monitorar dados essenciais das nossas APIs e consequentemente de forma simplificada identificar sintomas e a causa raíz do que está causando indisponibilidade ou intermitência no fluxo das integrações.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rum-framework">RUM framework<a class="hash-link" aria-label="Link direto para RUM framework" title="Link direto para RUM framework" href="/blog/tags/observabilidade#rum-framework">​</a></h2>
<p>Real User Monitoring é uma técnica de monitoramento passiva que vem ganhando muita expressão no mundo de DevOps. Diferente daquele modelo tradicional de monitoramento white-box, mais voltado para o comportamento interno das nossas aplicações, o monitoramento black-box vem sendo cada vez mais presente e necessário no mundo das operações. Esse tipo de monitoramento foca em monitorar o que o usuário vai enxergar, como por exemplos de qual aplicação foi realizado o acesso, por onde ele está acessando (geolocalização), o tipo de conectividade (3G, 4G…), jornada de compra e etc. Dado o contexto atual de mercado, onde cada vez mais clientes têm o poder de escolha, precisamos nos manter competitivos e para isso temos que entender a experiência que os usuários estão tendo com o que nós oferecemos para eles.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="considerações-finais">Considerações finais<a class="hash-link" aria-label="Link direto para Considerações finais" title="Link direto para Considerações finais" href="/blog/tags/observabilidade#considerações-finais">​</a></h2>
<p>Não posso te dizer o que sua organização deve monitorar, são muitas variáveis e contextos diferentes. Mas entendendo os conceitos apresentados neste conteúdo você conseguirá elevar o monitoramento das suas APIs para outro nível, trazendo observabilidade e conseguindo reagir a problemas mesmo antes que aconteçam, gerando o mínimo de impacto possível para os consumidores.</p>
<p>Em um mundo cada vez mais distribuído, os casos de uso e contextos de negócio formam uma infinidade de possibilidades, com isso é de extrema importância entender esses conceitos fundamentais para conseguir adequá-los à sua lógica de negócio. Monitorar os dados certos só será possível se suas APIs forem observáveis. Para continuar competitivo no mercado atual precisamos olhar além de métricas internas, precisamos analisar métricas externas, para garantir a melhor experiência não só para as aplicações que estão consumindo as APIs, mas também para o usuário final.</p>
<p>Obrigado por ter lido até aqui, até a próxima!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Marcadores:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/ap-is">APIs</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/observabilidade">observabilidade</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/monitoramento">monitoramento</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/melt">MELT</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/red">RED</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/rum">RUM</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Navegação da página de listagem do blog"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/tags/observabilidade">Slack</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/tags/observabilidade">Instagram</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/bem-vindos">Blog</a></li><li class="footer__item"><a href="https://github.com/universo01" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 u01, Inc. Construído com Docusaurus.</div></div></div></footer></div>
</body>
</html>